// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Logs() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!doctype html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Logs - Todo App</title><script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js\" integrity=\"sha384-8rGMqGGIc3SfpJeJnjRjdrhYvZWqK7XRNH2QLfPSP5TZEz2XFYPyxrSG/OWUPYQO\" crossorigin=\"anonymous\"></script><script defer src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.14.3/dist/cdn.min.js\" integrity=\"sha384-6Adm6G1U8xoHlXflGqBJzrK4vAJPKpfQ9yIDDXZn2P76zOJaKLwMZlqRy6nEB3Pw\" crossorigin=\"anonymous\"></script><style>\n\t\t\t* { box-sizing: border-box; margin: 0; padding: 0; }\n\t\t\tbody {\n\t\t\t\tfont-family: 'JetBrains Mono', 'SF Mono', monospace;\n\t\t\t\tbackground: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);\n\t\t\t\tmin-height: 100vh;\n\t\t\t\tcolor: #e4e4e4;\n\t\t\t\tpadding: 2rem;\n\t\t\t}\n\t\t\t.container {\n\t\t\t\tmax-width: 1200px;\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\t\t\th1 {\n\t\t\t\tfont-size: 2.5rem;\n\t\t\t\tmargin-bottom: 0;\n\t\t\t\tbackground: linear-gradient(90deg, #e94560, #ff6b6b);\n\t\t\t\t-webkit-background-clip: text;\n\t\t\t\t-webkit-text-fill-color: transparent;\n\t\t\t}\n\t\t\t.header {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 2rem;\n\t\t\t}\n\t\t\t.nav-link {\n\t\t\t\tcolor: #888;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tpadding: 0.5rem 1rem;\n\t\t\t\tborder: 1px solid #444;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tfont-size: 0.85rem;\n\t\t\t\ttransition: all 0.2s;\n\t\t\t}\n\t\t\t.nav-link:hover {\n\t\t\t\tborder-color: #e94560;\n\t\t\t\tcolor: #e94560;\n\t\t\t}\n\t\t\t.filters {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 1rem;\n\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t}\n\t\t\t.filter-group {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 0.25rem;\n\t\t\t}\n\t\t\t.filter-group label {\n\t\t\t\tfont-size: 0.75rem;\n\t\t\t\tcolor: #888;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.05em;\n\t\t\t}\n\t\t\tselect, input[type=\"text\"] {\n\t\t\t\t-webkit-appearance: none;\n\t\t\t\t-moz-appearance: none;\n\t\t\t\tappearance: none;\n\t\t\t\tpadding: 0.75rem 2.2rem 0.75rem 1rem;\n\t\t\t\tborder: 2px solid #2d4059;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tbackground: rgba(255,255,255,0.05) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M6 8L2 4h8z'/%3E%3C/svg%3E\") no-repeat right 0.75rem center;\n\t\t\t\tcolor: #fff;\n\t\t\t\tfont-size: 0.9rem;\n\t\t\t\tfont-family: inherit;\n\t\t\t\toutline: none;\n\t\t\t\ttransition: border-color 0.2s;\n\t\t\t\tmin-width: 150px;\n\t\t\t}\n\t\t\tinput[type=\"text\"] {\n\t\t\t\tbackground-image: none;\n\t\t\t\tpadding-right: 1rem;\n\t\t\t}\n\t\t\tselect:focus, input[type=\"text\"]:focus {\n\t\t\t\tborder-color: #e94560;\n\t\t\t}\n\t\t\tselect option {\n\t\t\t\tbackground: #1a1a2e;\n\t\t\t\tcolor: #fff;\n\t\t\t}\n\t\t\t.search-input {\n\t\t\t\tmin-width: 250px;\n\t\t\t}\n\t\t\t.log-table {\n\t\t\t\twidth: 100%;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\tfont-size: 0.85rem;\n\t\t\t}\n\t\t\t.log-table th {\n\t\t\t\ttext-align: left;\n\t\t\t\tpadding: 1rem;\n\t\t\t\tbackground: rgba(255,255,255,0.05);\n\t\t\t\tborder-bottom: 2px solid #2d4059;\n\t\t\t\tcolor: #888;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.05em;\n\t\t\t\tfont-size: 0.75rem;\n\t\t\t}\n\t\t\t.log-table td {\n\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\tborder-bottom: 1px solid rgba(255,255,255,0.05);\n\t\t\t\tvertical-align: top;\n\t\t\t}\n\t\t\t.log-table tr:hover {\n\t\t\t\tbackground: rgba(255,255,255,0.03);\n\t\t\t}\n\t\t\t.level-badge {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding: 0.25rem 0.5rem;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tfont-size: 0.7rem;\n\t\t\t\tfont-weight: 600;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t}\n\t\t\t.level-INFO { background: #2d4059; color: #6bcb77; }\n\t\t\t.level-WARN { background: #4a3f35; color: #ffd93d; }\n\t\t\t.level-ERROR { background: #4a2c2a; color: #ff6b6b; }\n\t\t\t.level-DEBUG { background: #2d3a4a; color: #74b9ff; }\n\t\t\t.source-badge {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding: 0.25rem 0.5rem;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tfont-size: 0.7rem;\n\t\t\t\tbackground: #2d4059;\n\t\t\t\tcolor: #a29bfe;\n\t\t\t}\n\t\t\t.user-badge {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding: 0.25rem 0.5rem;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tfont-size: 0.7rem;\n\t\t\t\tbackground: #2d4059;\n\t\t\t\tcolor: #6bcb77;\n\t\t\t}\n\t\t\t.log-message {\n\t\t\t\tmax-width: 400px;\n\t\t\t\tword-break: break-word;\n\t\t\t}\n\t\t\t.log-data {\n\t\t\t\tfont-size: 0.75rem;\n\t\t\t\tcolor: #888;\n\t\t\t\tmax-width: 300px;\n\t\t\t\tword-break: break-word;\n\t\t\t}\n\t\t\t.log-data code {\n\t\t\t\tbackground: rgba(0,0,0,0.3);\n\t\t\t\tpadding: 0.1rem 0.3rem;\n\t\t\t\tborder-radius: 3px;\n\t\t\t}\n\t\t\t.timestamp {\n\t\t\t\tcolor: #666;\n\t\t\t\tfont-size: 0.8rem;\n\t\t\t\twhite-space: nowrap;\n\t\t\t}\n\t\t\t.pagination {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 1rem;\n\t\t\t\tmargin-top: 2rem;\n\t\t\t}\n\t\t\t.pagination button {\n\t\t\t\tpadding: 0.5rem 1rem;\n\t\t\t\tborder: 1px solid #2d4059;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tbackground: transparent;\n\t\t\t\tcolor: #e4e4e4;\n\t\t\t\tfont-family: inherit;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s;\n\t\t\t}\n\t\t\t.pagination button:hover:not(:disabled) {\n\t\t\t\tborder-color: #e94560;\n\t\t\t\tcolor: #e94560;\n\t\t\t}\n\t\t\t.pagination button:disabled {\n\t\t\t\topacity: 0.3;\n\t\t\t\tcursor: not-allowed;\n\t\t\t}\n\t\t\t.pagination-info {\n\t\t\t\tcolor: #888;\n\t\t\t\tfont-size: 0.85rem;\n\t\t\t}\n\t\t\t.empty-state {\n\t\t\t\ttext-align: center;\n\t\t\t\tpadding: 4rem 2rem;\n\t\t\t\tcolor: #666;\n\t\t\t}\n\t\t\t.loading {\n\t\t\t\ttext-align: center;\n\t\t\t\tpadding: 2rem;\n\t\t\t\tcolor: #888;\n\t\t\t}\n\t\t\t@keyframes pulse {\n\t\t\t\t0%, 100% { opacity: 1; }\n\t\t\t\t50% { opacity: 0.5; }\n\t\t\t}\n\t\t\t.loading-indicator {\n\t\t\t\tanimation: pulse 1.5s infinite;\n\t\t\t}\n\t\t\t.stats {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 2rem;\n\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\tpadding: 1rem;\n\t\t\t\tbackground: rgba(255,255,255,0.03);\n\t\t\t\tborder-radius: 8px;\n\t\t\t}\n\t\t\t.stat {\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t.stat-value {\n\t\t\t\tfont-size: 1.5rem;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #e94560;\n\t\t\t}\n\t\t\t.stat-label {\n\t\t\t\tfont-size: 0.7rem;\n\t\t\t\tcolor: #888;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.05em;\n\t\t\t}\n\t\t\t.chart-container {\n\t\t\t\tbackground: rgba(255,255,255,0.03);\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tpadding: 1.5rem;\n\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t}\n\t\t\t.chart-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 1rem;\n\t\t\t}\n\t\t\t.chart-title {\n\t\t\t\tfont-size: 0.85rem;\n\t\t\t\tcolor: #888;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.05em;\n\t\t\t}\n\t\t\t#timelineChart {\n\t\t\t\tmax-height: 200px;\n\t\t\t}\n\t\t\t.time-controls {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 0.5rem;\n\t\t\t}\n\t\t\t.time-select {\n\t\t\t\t-webkit-appearance: none;\n\t\t\t\t-moz-appearance: none;\n\t\t\t\tappearance: none;\n\t\t\t\tpadding: 0.4rem 1.8rem 0.4rem 0.6rem;\n\t\t\t\tborder: 1px solid #2d4059;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tbackground: rgba(255,255,255,0.05) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M6 8L2 4h8z'/%3E%3C/svg%3E\") no-repeat right 0.5rem center;\n\t\t\t\tcolor: #fff;\n\t\t\t\tfont-size: 0.75rem;\n\t\t\t\tfont-family: inherit;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.time-select:focus {\n\t\t\t\tborder-color: #e94560;\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t\t.charts-row {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 1.5rem;\n\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t}\n\t\t\t.chart-timeline {\n\t\t\t\tflex: 1;\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t\t.chart-db {\n\t\t\t\twidth: 180px;\n\t\t\t\tflex-shrink: 0;\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t\t.db-gauge-wrapper {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 140px;\n\t\t\t\theight: 140px;\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\t\t\t#dbStatsChart {\n\t\t\t\twidth: 140px !important;\n\t\t\t\theight: 140px !important;\n\t\t\t}\n\t\t\t.db-gauge-label {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 50%;\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translate(-50%, -50%);\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t.db-gauge-value {\n\t\t\t\tdisplay: block;\n\t\t\t\tfont-size: 1.1rem;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #e94560;\n\t\t\t}\n\t\t\t.db-gauge-total {\n\t\t\t\tdisplay: block;\n\t\t\t\tfont-size: 0.7rem;\n\t\t\t\tcolor: #666;\n\t\t\t}\n\t\t\t.bulk-actions {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 1rem;\n\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\tbackground: rgba(233, 69, 96, 0.1);\n\t\t\t\tborder: 1px solid rgba(233, 69, 96, 0.3);\n\t\t\t\tborder-radius: 8px;\n\t\t\t}\n\t\t\t.bulk-actions span {\n\t\t\t\tcolor: #e94560;\n\t\t\t\tfont-size: 0.85rem;\n\t\t\t}\n\t\t\t.delete-btn {\n\t\t\t\tpadding: 0.5rem 1rem;\n\t\t\t\tbackground: #e94560;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tcolor: white;\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-family: inherit;\n\t\t\t\tfont-size: 0.85rem;\n\t\t\t\ttransition: background 0.2s;\n\t\t\t}\n\t\t\t.delete-btn:hover {\n\t\t\t\tbackground: #d63850;\n\t\t\t}\n\t\t\t.checkbox-cell {\n\t\t\t\twidth: 40px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t.checkbox-cell input[type=\"checkbox\"] {\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tcursor: pointer;\n\t\t\t\taccent-color: #e94560;\n\t\t\t}\n\t\t\t.reset-btn {\n\t\t\t\tpadding: 0.5rem 1rem;\n\t\t\t\tborder: 1px solid #888;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tbackground: transparent;\n\t\t\t\tcolor: #888;\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-family: inherit;\n\t\t\t\tfont-size: 0.85rem;\n\t\t\t\ttransition: all 0.2s;\n\t\t\t}\n\t\t\t.reset-btn:hover {\n\t\t\t\tborder-color: #e94560;\n\t\t\t\tcolor: #e94560;\n\t\t\t}\n\t\t</style></head><body><div class=\"container\" x-data=\"logsApp()\"><div class=\"header\"><h1>✦ logs</h1><form action=\"/admin/logout\" method=\"POST\" style=\"margin: 0;\"><button type=\"submit\" class=\"nav-link\" style=\"background: transparent; cursor: pointer;\">Logout</button></form></div><div class=\"stats\"><div class=\"stat\"><div class=\"stat-value\" x-text=\"total\"></div><div class=\"stat-label\">Total Logs</div></div><div class=\"stat\"><div class=\"stat-value\" x-text=\"logs.filter(l => l.level === 'ERROR').length\"></div><div class=\"stat-label\">Errors (page)</div></div><div class=\"stat\"><div class=\"stat-value\" x-text=\"logs.filter(l => l.level === 'WARN').length\"></div><div class=\"stat-label\">Warnings (page)</div></div></div><div class=\"charts-row\"><div class=\"chart-container chart-timeline\"><div class=\"chart-header\"><span class=\"chart-title\">Log Events</span><div class=\"time-controls\"><select class=\"time-select\" x-model=\"timeRange\" @change=\"fetchTimeline()\"><option value=\"1h\">Last 1h</option> <option value=\"6h\">Last 6h</option> <option value=\"24h\">Last 24h</option> <option value=\"7d\">Last 7d</option> <option value=\"30d\">Last 30d</option></select> <select class=\"time-select\" x-model=\"resolution\" @change=\"fetchTimeline()\"><option value=\"auto\">Auto</option> <option value=\"1m\">1m</option> <option value=\"5m\">5m</option> <option value=\"15m\">15m</option> <option value=\"1h\">1h</option> <option value=\"1d\">1d</option></select></div></div><canvas id=\"timelineChart\"></canvas></div><div class=\"chart-container chart-db\"><div class=\"chart-header\"><span class=\"chart-title\">DB Size</span></div><div class=\"db-gauge-wrapper\"><canvas id=\"dbStatsChart\"></canvas><div class=\"db-gauge-label\"><span class=\"db-gauge-value\" x-text=\"formatBytes(dbStats.used_size_bytes)\"></span> <span class=\"db-gauge-total\" x-text=\"'/ ' + formatBytes(dbStats.max_size_bytes)\"></span></div></div></div></div><div class=\"filters\"><div class=\"filter-group\"><label>Level</label> <select x-model=\"filters.level\" @change=\"fetchLogs()\"><option value=\"\">All Levels</option> <option value=\"DEBUG\">Debug</option> <option value=\"INFO\">Info</option> <option value=\"WARN\">Warning</option> <option value=\"ERROR\">Error</option></select></div><div class=\"filter-group\"><label>Source</label> <select x-model=\"filters.source\" @change=\"fetchLogs()\"><option value=\"\">All Sources</option><template x-for=\"src in sources\" :key=\"src\"><option :value=\"src\" x-text=\"src\"></option></template></select></div><div class=\"filter-group\"><label>Search</label> <input type=\"text\" class=\"search-input\" placeholder=\"Search messages...\" x-model=\"filters.search\" @input.debounce.300ms=\"fetchLogs()\"></div><div class=\"filter-group\" x-show=\"filters.level || filters.source || filters.search\" style=\"align-self: flex-end;\"><button class=\"reset-btn\" @click=\"resetFilters()\">Reset</button></div></div><div class=\"bulk-actions\" x-show=\"selectedIds.length > 0\" x-cloak><span x-text=\"selectedIds.length + ' selected'\"></span> <button class=\"delete-btn\" @click=\"bulkDelete()\">Delete Selected</button></div><template x-if=\"loading && logs.length === 0\"><div class=\"loading\"><span class=\"loading-indicator\">Loading logs...</span></div></template><template x-if=\"!loading && logs.length === 0\"><div class=\"empty-state\"><p>No logs found matching your filters.</p></div></template><template x-if=\"logs.length > 0\"><div><table class=\"log-table\"><thead><tr><th class=\"checkbox-cell\"><input type=\"checkbox\" :checked=\"allSelected\" @change=\"toggleAll()\"></th><th>Time</th><th>Level</th><th>Source</th><th>User</th><th>Message</th><th>Data</th></tr></thead> <tbody><template x-for=\"log in logs\" :key=\"log.id\"><tr><td class=\"checkbox-cell\"><input type=\"checkbox\" :checked=\"selectedIds.includes(log.id)\" @change=\"toggleSelect(log.id)\"></td><td class=\"timestamp\" x-text=\"formatTime(log.created_at)\"></td><td><span class=\"level-badge\" :class=\"'level-' + log.level\" x-text=\"log.level\"></span></td><td><span x-show=\"log.source\" class=\"source-badge\" x-text=\"log.source\"></span> <span x-show=\"!log.source\" style=\"color: #444;\">—</span></td><td><span x-show=\"log.user\" class=\"user-badge\" x-text=\"log.user.email\"></span> <span x-show=\"!log.user\" style=\"color: #444;\">—</span></td><td class=\"log-message\" x-text=\"log.message\"></td><td class=\"log-data\"><code x-show=\"log.data\" x-text=\"formatData(log.data)\"></code></td></tr></template></tbody></table><div class=\"pagination\"><button @click=\"prevPage()\" :disabled=\"page <= 1\">← Prev</button> <span class=\"pagination-info\">Page <span x-text=\"page\"></span> of <span x-text=\"totalPages\"></span></span> <button @click=\"nextPage()\" :disabled=\"page >= totalPages\">Next →</button></div></div></template></div><script>\n\t\t\tfunction logsApp() {\n\t\t\t\treturn {\n\t\t\t\t\tlogs: [],\n\t\t\t\t\tsources: [],\n\t\t\t\t\tloading: true,\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tperPage: 50,\n\t\t\t\t\ttotal: 0,\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\tlevel: '',\n\t\t\t\t\t\tsource: '',\n\t\t\t\t\t\tsearch: ''\n\t\t\t\t\t},\n\t\t\t\t\ttimelineChart: null,\n\t\t\t\t\ttimeRange: '24h',\n\t\t\t\t\tresolution: 'auto',\n\t\t\t\t\tdbStatsChart: null,\n\t\t\t\t\tdbStats: { used_size_bytes: 0, max_size_bytes: 0 },\n\t\t\t\t\tselectedIds: [],\n\n\t\t\t\t\tget totalPages() {\n\t\t\t\t\t\treturn Math.ceil(this.total / this.perPage) || 1;\n\t\t\t\t\t},\n\n\t\t\t\t\tget allSelected() {\n\t\t\t\t\t\treturn this.logs.length > 0 && this.selectedIds.length === this.logs.length;\n\t\t\t\t\t},\n\n\t\t\t\t\ttoggleAll() {\n\t\t\t\t\t\tif (this.allSelected) {\n\t\t\t\t\t\t\tthis.selectedIds = [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selectedIds = this.logs.map(l => l.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\ttoggleSelect(id) {\n\t\t\t\t\t\tconst idx = this.selectedIds.indexOf(id);\n\t\t\t\t\t\tif (idx > -1) {\n\t\t\t\t\t\t\tthis.selectedIds.splice(idx, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selectedIds.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tasync bulkDelete() {\n\t\t\t\t\t\tif (this.selectedIds.length === 0) return;\n\t\t\t\t\t\tif (!confirm(`Delete ${this.selectedIds.length} log(s)?`)) return;\n\t\t\t\t\t\t\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait fetch('/admin/api/logs', {\n\t\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\t\t\t\tbody: JSON.stringify({ ids: this.selectedIds })\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.selectedIds = [];\n\t\t\t\t\t\t\tawait this.fetchLogs();\n\t\t\t\t\t\t\tawait this.fetchTimeline();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('Failed to delete logs:', e);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tresetFilters() {\n\t\t\t\t\t\tthis.filters.level = '';\n\t\t\t\t\t\tthis.filters.source = '';\n\t\t\t\t\t\tthis.filters.search = '';\n\t\t\t\t\t\tthis.page = 1;\n\t\t\t\t\t\tthis.fetchLogs();\n\t\t\t\t\t},\n\n\t\t\t\t\tasync init() {\n\t\t\t\t\t\tawait this.fetchSources();\n\t\t\t\t\t\tawait this.fetchLogs();\n\t\t\t\t\t\tawait this.fetchTimeline();\n\t\t\t\t\t\tawait this.fetchDBStats();\n\t\t\t\t\t},\n\n\t\t\t\t\tasync fetchDBStats() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst res = await fetch('/admin/api/db/stats');\n\t\t\t\t\t\t\tthis.dbStats = await res.json();\n\t\t\t\t\t\t\tthis.renderDBChart();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('Failed to fetch DB stats:', e);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\trenderDBChart() {\n\t\t\t\t\t\tconst ctx = document.getElementById('dbStatsChart').getContext('2d');\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (this.dbStatsChart) {\n\t\t\t\t\t\t\tthis.dbStatsChart.destroy();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst used = this.dbStats.used_size_bytes;\n\t\t\t\t\t\tconst max = this.dbStats.max_size_bytes;\n\t\t\t\t\t\tconst remaining = Math.max(0, max - used);\n\n\t\t\t\t\t\tthis.dbStatsChart = new Chart(ctx, {\n\t\t\t\t\t\t\ttype: 'doughnut',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tlabels: ['Used', 'Available'],\n\t\t\t\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\t\t\t\tdata: [used, remaining],\n\t\t\t\t\t\t\t\t\tbackgroundColor: ['#e94560', 'rgba(255,255,255,0.08)'],\n\t\t\t\t\t\t\t\t\tborderWidth: 0\n\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tresponsive: false,\n\t\t\t\t\t\t\t\tcutout: '70%',\n\t\t\t\t\t\t\t\tplugins: {\n\t\t\t\t\t\t\t\t\tlegend: { display: false },\n\t\t\t\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\t\t\t\tlabel: (ctx) => ctx.label + ': ' + this.formatBytes(ctx.raw)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\tformatBytes(bytes) {\n\t\t\t\t\t\tif (bytes === 0) return '0 B';\n\t\t\t\t\t\tconst k = 1024;\n\t\t\t\t\t\tconst sizes = ['B', 'KB', 'MB', 'GB'];\n\t\t\t\t\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\t\t\t\t\t\treturn parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n\t\t\t\t\t},\n\n\t\t\t\t\tasync fetchTimeline() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst params = new URLSearchParams({\n\t\t\t\t\t\t\t\trange: this.timeRange,\n\t\t\t\t\t\t\t\tresolution: this.resolution\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconst res = await fetch('/admin/api/logs/timeline?' + params);\n\t\t\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t\t\tthis.renderChart(data);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('Failed to fetch timeline:', e);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\trenderChart(data) {\n\t\t\t\t\t\tconst ctx = document.getElementById('timelineChart').getContext('2d');\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (this.timelineChart) {\n\t\t\t\t\t\t\tthis.timelineChart.destroy();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst labels = data.map(d => this.formatTimeLabel(d.time));\n\t\t\t\t\t\tconst counts = data.map(d => d.count);\n\n\t\t\t\t\t\tthis.timelineChart = new Chart(ctx, {\n\t\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tlabels: labels,\n\t\t\t\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\t\t\t\tlabel: 'Log Events',\n\t\t\t\t\t\t\t\t\tdata: counts,\n\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(233, 69, 96, 0.8)',\n\t\t\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\t\t\tbarPercentage: 0.9,\n\t\t\t\t\t\t\t\t\tcategoryPercentage: 0.95\n\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\t\t\tplugins: {\n\t\t\t\t\t\t\t\t\tlegend: { display: false },\n\t\t\t\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\t\t\t\ttitle: (items) => data[items[0].dataIndex]?.time || '',\n\t\t\t\t\t\t\t\t\t\t\tlabel: (ctx) => ctx.raw + ' events'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\t\tx: {\n\t\t\t\t\t\t\t\t\t\tgrid: { display: false },\n\t\t\t\t\t\t\t\t\t\tticks: { color: '#666', maxTicksLimit: 12, maxRotation: 0 }\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ty: {\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tgrid: { color: 'rgba(255,255,255,0.05)' },\n\t\t\t\t\t\t\t\t\t\tticks: { color: '#666', precision: 0 }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\tformatTimeLabel(time) {\n\t\t\t\t\t\tif (this.timeRange === '7d' || this.timeRange === '30d') {\n\t\t\t\t\t\t\treturn time.slice(5, 10); // MM-DD\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn time.slice(11, 16); // HH:MM\n\t\t\t\t\t},\n\n\t\t\t\t\tasync fetchSources() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst res = await fetch('/admin/api/logs/sources');\n\t\t\t\t\t\t\tthis.sources = await res.json();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('Failed to fetch sources:', e);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tasync fetchLogs() {\n\t\t\t\t\t\tthis.loading = true;\n\t\t\t\t\t\tthis.selectedIds = [];\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst params = new URLSearchParams({\n\t\t\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\t\t\tper_page: this.perPage\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (this.filters.level) params.set('level', this.filters.level);\n\t\t\t\t\t\t\tif (this.filters.source) params.set('source', this.filters.source);\n\t\t\t\t\t\t\tif (this.filters.search) params.set('search', this.filters.search);\n\n\t\t\t\t\t\t\tconst res = await fetch('/admin/api/logs?' + params);\n\t\t\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t\t\tthis.logs = data.logs || [];\n\t\t\t\t\t\t\tthis.total = data.total || 0;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('Failed to fetch logs:', e);\n\t\t\t\t\t\t\tthis.logs = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t},\n\n\t\t\t\t\tprevPage() {\n\t\t\t\t\t\tif (this.page > 1) {\n\t\t\t\t\t\t\tthis.page--;\n\t\t\t\t\t\t\tthis.fetchLogs();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tnextPage() {\n\t\t\t\t\t\tif (this.page < this.totalPages) {\n\t\t\t\t\t\t\tthis.page++;\n\t\t\t\t\t\t\tthis.fetchLogs();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tformatTime(ts) {\n\t\t\t\t\t\tconst d = new Date(ts);\n\t\t\t\t\t\treturn d.toLocaleString('en-US', {\n\t\t\t\t\t\t\tmonth: 'short',\n\t\t\t\t\t\t\tday: 'numeric',\n\t\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\t\tminute: '2-digit',\n\t\t\t\t\t\t\tsecond: '2-digit'\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\tformatData(data) {\n\t\t\t\t\t\tif (!data) return '';\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst obj = JSON.parse(data);\n\t\t\t\t\t\t\treturn Object.entries(obj)\n\t\t\t\t\t\t\t\t.map(([k, v]) => `${k}=${JSON.stringify(v)}`)\n\t\t\t\t\t\t\t\t.join(' ');\n\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t</script></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
